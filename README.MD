# iFood Dashboard Anal√≠tico

Ferramenta de visualiza√ß√£o de dados que auxilia gestores a acompanhar as principais m√©tricas de desempenho no iFood.

O projeto √© composto por dois servi√ßos:

- **Backend** ‚Äì API em [FastAPI](https://fastapi.tiangolo.com/) (Python).
- **Frontend** ‚Äì Aplica√ß√£o [Next.js](https://nextjs.org/) (React).

---

## üöÄ Tecnologias Utilizadas

### Backend
- Python
- FastAPI
- SQLAlchemy
- PyJWT
- PostgreSQL (ou SQLite para testes locais)

### Frontend
- Next.js
- React
- TypeScript
- Tailwind CSS
- Recharts
- Axios

---

## ‚ú® Funcionalidades
- Autentica√ß√£o de usu√°rio
- Painel de m√©tricas (faturamento, pedidos, status etc.)
- Gr√°ficos interativos
- Filtros por intervalo de datas
- Job de atualiza√ß√£o autom√°tica das m√©tricas
- Endpoints protegidos `/metricas` e `/relatorios` com limite de requisi√ß√µes

---

## üõ†Ô∏è Configura√ß√£o e Setup

### Backend (FastAPI)
1. Acesse `ifood-dashboard/backend`.
2. Crie e ative um ambiente virtual e instale as depend√™ncias:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Windows: .venv\\Scripts\\activate
   pip install -r requirements.txt
   ```
3. Crie um arquivo `.env` com as vari√°veis (a `SECRET_KEY` √© obrigat√≥ria):
   ```
   DATABASE_URL=postgresql://usuario:senha@localhost:5432/nomedobanco
   SECRET_KEY=sua_chave_secreta
   ```
   A aplica√ß√£o usa uma `SECRET_KEY` padr√£o apenas para desenvolvimento.
4. Execute os scripts SQL antes de iniciar o servidor:
   ```bash
   # PostgreSQL
   DATABASE_URL=postgresql://usuario:senha@localhost:5432/nomedobanco ../db/setup_db.sh

   # ou SQLite para testes locais
   sqlite3 ../ifood.db < app/schema.sql
   ```
5. Inicie o servidor de desenvolvimento:
   ```bash
   uvicorn app.main:app --reload
   ```

#### Documenta√ß√£o da API

Ap√≥s iniciar o servidor, a documenta√ß√£o interativa estar√° dispon√≠vel em `http://localhost:8000/docs` (Swagger) ou `http://localhost:8000/redoc`.

### Frontend (Next.js)
1. Acesse `ifood-dashboard/frontend`.
2. Instale as depend√™ncias:
   ```bash
   npm install
   ```
3. Configure a URL do backend em `.env.local`:
   ```
   NEXT_PUBLIC_API_URL=http://localhost:8000
   ```
4. Inicie o servidor de desenvolvimento:
   ```bash
   npm run dev
   ```

A aplica√ß√£o estar√° dispon√≠vel em `http://localhost:3000`.

---

## üìÇ Estrutura do Projeto

```
ifood-dashboard/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py          # Ponto de entrada da API FastAPI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py      # Conex√£o e sess√£o com o banco
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py        # Defini√ß√µes ORM
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.sql       # Script de cria√ß√£o do banco
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ frontend/
    ‚îú‚îÄ‚îÄ public/              # Arquivos est√°ticos
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ api/             # Comunica√ß√£o com o backend
    ‚îÇ   ‚îú‚îÄ‚îÄ assets/          # Tipos e dados est√°ticos
    ‚îÇ   ‚îú‚îÄ‚îÄ components/      # Componentes reutiliz√°veis
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Graficos/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Layout/
    ‚îÇ   ‚îú‚îÄ‚îÄ context/         # Gerenciamento de estado
    ‚îÇ   ‚îî‚îÄ‚îÄ app/             # Rotas da aplica√ß√£o
    ‚îî‚îÄ‚îÄ package.json
```

---

## üìÑ Licen√ßa

Este projeto √© distribu√≠do sob a licen√ßa MIT.

